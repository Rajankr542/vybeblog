<!DOCTYPE html>
<html>
<head>
  <title>.::VYBE::.</title>
   <!-- <meta name="viewport" content="width=device-width, initial-scale=0.8"> -->
   <meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link href='https://cdn.jsdelivr.net/npm/froala-editor@3.0.5/css/froala_editor.pkgd.min.css' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" type="text/css" href="/css/style.css">
  <link rel="stylesheet" type="text/css" href="/css/adminpage.css">
</head>
<body>


<div class="container">
	<div class="row">
		<h2>Creat a new Blog</h2>
    <div class="banner_cat_container_admin">
      <div class="go_back_dele_con">
      <a href="/admin" class="btn btn-xs btn-danger">go back</a> 
    </div>
  </div>


		<div class="col-md-12">
			<form method="POST" action="/admin/campgrounds" enctype="multipart/form-data">
        <div class="form_left_container">
				<div class="form-group">
				 <input type="text" class="form-control" name="camp_name" placeholder="blog name">
				</div>
				<div class="form-group">
				 <input type="text" class="form-control" name="camp_img_alt" placeholder="blog banner image alt tag">
				</div>
				<div class="form-group">
				  <textarea id="edit" name="camp_description"></textarea>
				</div>

        </div>

            <div class="form_right_container for_new_add_page">
          <div class="input_type_file_container"><label for="input_type_file" class="image_upload_container"><img src="https://image.flaticon.com/icons/svg/149/149145.svg"><br/>Upload Banner</label>
         <input type="file" class="input_type_file" name="photo" id="input_type_file" placeholder="camp image link" required>
         <img id="banner_preview" src="#" alt="Banner preview" / style="display: none;">
        </div>
        
         <div class="form-group admin_blog_type_container">
            <p>Organization</p>
            <div class="admin_blog_ogganisation">
          <label>Category</label>
          <select name="camp_blogtype">
            <option selected value="Health & fintness">Health & fintness</option>
            <option value="Travel">Travel</option>
            <option value="Lifestyle $ Leisure">Lifestyle $ Leisure</option>
            <option value="Music">Music</option>
            <option value="Technologies">Technologies</option>
            <option value="Design & Art">Design & Art</option>
            <option value="Self Development">Self Development</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Business">Business</option>
          </select>
        </div>
        <div class="author_container">
          <label>Author</label>
          <select name="camp_author">
            <option selected value="Mark Galieo">Mark Galieo</option>
          </select>
        </div>

          <div class="form-group author_container admin_edit">
            <label>Visibility</label>
            <select name="camp_activity">
              <option selected value="active">Active</option>
              <option value="inactive">Inactive</option>
            </select>
          </div>

        <div class="input_date_container" style="display: none;">
    <input type="text" name="camp_date" class="input_commet" value="<% 
const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
let current_datetime = new Date()
let formatted_date =current_datetime.getDate() + " " + months[current_datetime.getMonth()] + " " + current_datetime.getFullYear()%><%=formatted_date%>" required>
  </div>

      </div>

      </div>

          <div class="form-group">
         <button class="btn btn-lg btn-primary btn-block" type="submit">Add new blog</button> 
          </div>

      </form>

						
		</div>

	</div>
</div>
<script type='text/javascript' src='https://cdn.jsdelivr.net/npm/froala-editor@3.0.5/js/froala_editor.pkgd.min.js'></script>
  <script>
    new FroalaEditor('#edit', {
    	imageUploadParam: 'photo',
    imageUploadURL: '/uploadblogimage',
    imageUploadParams: {id: 'my_editor'},
    imageUploadMethod: 'POST',
    imageMaxSize: 5 * 1024 * 1024,
   imageAllowedTypes: ['jpeg', 'jpg', 'png'],

    events: {
      'image.beforeUpload': function (images) {
        // Return false if you want to stop the image upload.
      },
      'image.uploaded': function (response) {
      },
      'image.inserted': function ($img, response) {
      },
      'image.replaced': function ($img, response) {
      },
      'image.error': function (error, response) {
        // Bad link.
        if (error.code == 1) { console.log(error.code); }

        // No link in upload response.
        else if (error.code == 2) { console.log(error.code); }

        // Error during image upload.
        else if (error.code == 3) { console.log(error.code);}

        // Parsing response failed.
        else if (error.code == 4) {console.log(error.code);}

        // Image too text-large.
        else if (error.code == 5) {console.log(error.code);}

        // Invalid image type.
        else if (error.code == 6) {console.log(error.code);}

        // Image can be uploaded only to same domain in IE 8 and IE 9.
        else if (error.code == 7) { console.log(error.code);}

        // Response contains the original server response to the request if available.
      }
    }
  })
</script>

<script>
  function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();

        reader.onload = function (e) {
            $('#banner_preview').attr('src', e.target.result);
        }

        reader.readAsDataURL(input.files[0]);
    }
    $("#banner_preview").css("display", "block");
    $(".image_upload_container").css("color", "red");
    

}

$("#input_type_file").change(function(){
    readURL(this);
});
</script>
</body>
</html>